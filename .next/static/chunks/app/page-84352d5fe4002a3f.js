(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{63:(e,s,t)=>{"use strict";var a=t(7260);t.o(a,"useParams")&&t.d(s,{useParams:function(){return a.useParams}}),t.o(a,"useRouter")&&t.d(s,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(s,{useSearchParams:function(){return a.useSearchParams}})},814:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]])},1260:(e,s,t)=>{Promise.resolve().then(t.bind(t,9445))},1847:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var a=t(2115);let l=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,t)=>t?t.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)},r=function(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter((e,s,t)=>!!e&&""!==e.trim()&&t.indexOf(e)===s).join(" ").trim()};var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let c=(0,a.forwardRef)((e,s)=>{let{color:t="currentColor",size:l=24,strokeWidth:c=2,absoluteStrokeWidth:n,className:d="",children:m,iconNode:o,...x}=e;return(0,a.createElement)("svg",{ref:s,...i,width:l,height:l,stroke:t,strokeWidth:n?24*Number(c)/Number(l):c,className:r("lucide",d),...!m&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0})(x)&&{"aria-hidden":"true"},...x},[...o.map(e=>{let[s,t]=e;return(0,a.createElement)(s,t)}),...Array.isArray(m)?m:[m]])}),n=(e,s)=>{let t=(0,a.forwardRef)((t,i)=>{let{className:n,...d}=t;return(0,a.createElement)(c,{ref:i,iconNode:s,className:r("lucide-".concat(l(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),n),...d})});return t.displayName=l(e),t}},2529:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3209:(e,s,t)=>{"use strict";t.d(s,{BT:()=>d,Wu:()=>m,ZB:()=>n,Zp:()=>i,aR:()=>c});var a=t(5155),l=t(2115),r=t(5016);let i=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("card shadow-sm",t),...l})});i.displayName="Card";let c=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("card-header p-3",t),...l})});c.displayName="CardHeader";let n=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("card-title fw-semibold",t),...l})});n.displayName="CardTitle";let d=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("small text-muted",t),...l})});d.displayName="CardDescription";let m=l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("card-body",t),...l})});m.displayName="CardContent",l.forwardRef((e,s)=>{let{className:t,...l}=e;return(0,a.jsx)("div",{ref:s,className:(0,r.cn)("card-footer d-flex align-items-center",t),...l})}).displayName="CardFooter"},5016:(e,s,t)=>{"use strict";function a(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return s.filter(Boolean).join(" ")}t.d(s,{cn:()=>a})},5921:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},6132:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},6191:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6983:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("clock",[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]])},7003:(e,s,t)=>{"use strict";t.d(s,{$:()=>r});var a=t(5155);t(2115);var l=t(5016);function r(e){let{className:s,variant:t="default",size:r="default",...i}=e;return(0,a.jsx)("button",{className:(0,l.cn)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default",s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default";return"".concat("btn d-inline-flex align-items-center justify-content-center gap-2 text-nowrap fw-medium"," ").concat({default:"btn-primary",destructive:"btn-danger",outline:"btn-outline-primary",secondary:"btn-secondary",ghost:"btn-light",link:"btn-link text-primary text-decoration-underline"}[e]," ").concat({default:"btn",sm:"btn-sm",lg:"btn-lg",icon:"btn p-2"}[s])}(t,r),s),...i})}},7812:(e,s,t)=>{"use strict";t.d(s,{E:()=>r});var a=t(5155);t(2115);var l=t(5016);function r(e){let{className:s,variant:t="default",...r}=e;return(0,a.jsx)("div",{className:(0,l.cn)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"default";return"".concat("badge d-inline-flex align-items-center"," ").concat({default:"bg-primary text-white",secondary:"bg-secondary text-white",destructive:"bg-danger text-white",outline:"border border-primary text-primary bg-transparent"}[e])}(t),s),...r})}},7937:(e,s,t)=>{"use strict";t.d(s,{A:()=>a});let a=(0,t(1847).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},9445:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>k});var a=t(5155),l=t(2115),r=t(63),i=t(3209),c=t(7003),n=t(7812),d=t(5016);let m=l.forwardRef((e,s)=>{let{className:t,value:l=0,max:r=100,...i}=e,c=Math.min(Math.max(l/r*100,0),100);return(0,a.jsx)("div",{ref:s,className:(0,d.cn)("progress w-100",t),...i,children:(0,a.jsx)("div",{className:"progress-bar bg-primary",role:"progressbar",style:{width:"".concat(c,"%")},"aria-valuenow":l,"aria-valuemin":0,"aria-valuemax":r})})});m.displayName="Progress";var o=t(6983),x=t(2529),u=t(814),h=t(1847);let j=(0,h.A)("refresh-cw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),v=(0,h.A)("award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]),p=(0,h.A)("calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),f=(0,h.A)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]);var y=t(6191),N=t(5921),g=t(7937),w=t(6132);function b(){let e=(0,r.useRouter)(),s=(0,r.useSearchParams)(),[t,d]=(0,l.useState)(null),[h,b]=(0,l.useState)(!0),[k,A]=(0,l.useState)(!1);(0,l.useEffect)(()=>{R(),"true"===s.get("reviews-completed")&&(A(!0),setTimeout(()=>A(!1),5e3))},[]);let R=async()=>{try{let e=await fetch("/api/metrics");if(e.ok){let s=await e.json();d(s)}}catch(e){console.error("Erro ao buscar m\xe9tricas:",e)}finally{b(!1)}};if(h)return(0,a.jsx)("div",{className:"min-vh-100 bg-light d-flex align-items-center justify-content-center",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)(o.A,{className:"mx-auto mb-4 text-primary",size:32,style:{animation:"spin 1s linear infinite"}}),(0,a.jsx)("p",{className:"text-muted",children:"Carregando dashboard..."})]})});let S=(null==t?void 0:t.progress.topicsByStatus.COMPLETED)||0,z=(null==t?void 0:t.overview.totalTopics)||0,C=z>0?Math.round(S/z*100):0;return(0,a.jsx)("div",{className:"min-vh-100 bg-light p-4",children:(0,a.jsxs)("div",{className:"container-fluid",children:[(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-between mb-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"display-4 fw-bold text-dark",children:"Dashboard"}),(0,a.jsx)("p",{className:"text-muted",children:new Date().toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]}),k&&(0,a.jsxs)("div",{className:"alert alert-success d-flex align-items-center",role:"alert",children:[(0,a.jsx)(x.A,{className:"me-2",size:20}),"Revis\xf5es conclu\xeddas com sucesso!"]})]}),(0,a.jsxs)("div",{className:"row g-4 mb-4",children:[(0,a.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,a.jsx)(i.Zp,{children:(0,a.jsx)(i.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"small fw-medium text-muted",children:"Progresso Geral"}),(0,a.jsxs)("p",{className:"h2 fw-bold text-primary",children:[C,"%"]}),(0,a.jsxs)("p",{className:"small text-muted",children:[S," de ",z," t\xf3picos"]})]}),(0,a.jsx)(u.A,{className:"text-primary",size:32})]})})})}),(0,a.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,a.jsx)(i.Zp,{children:(0,a.jsx)(i.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"small fw-medium text-muted",children:"Horas Estudadas"}),(0,a.jsxs)("p",{className:"h2 fw-bold text-success",children:[(null==t?void 0:t.overview.totalHoursStudied)||0,"h"]}),(0,a.jsx)("p",{className:"small text-muted",children:"\xfaltimos 30 dias"})]}),(0,a.jsx)(o.A,{className:"text-success",size:32})]})})})}),(0,a.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,a.jsx)(i.Zp,{children:(0,a.jsx)(i.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"small fw-medium text-muted",children:"Revis\xf5es Hoje"}),(0,a.jsx)("p",{className:"h2 fw-bold text-warning",children:(null==t?void 0:t.overview.itemsDueToday)||0}),(0,a.jsx)("p",{className:"small text-muted",children:"itens pendentes"})]}),(0,a.jsx)(j,{className:"text-warning",size:32})]})})})}),(0,a.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,a.jsx)(i.Zp,{children:(0,a.jsx)(i.Wu,{className:"p-4",children:(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"small fw-medium text-muted",children:"Sequ\xeancia"}),(0,a.jsx)("p",{className:"h2 fw-bold",style:{color:"#6f42c1"},children:(null==t?void 0:t.overview.studyStreak)||0}),(0,a.jsx)("p",{className:"small text-muted",children:"dias consecutivos"})]}),(0,a.jsx)(v,{style:{color:"#6f42c1"},size:32})]})})})})]}),(0,a.jsxs)("div",{className:"row g-4",children:[(0,a.jsx)("div",{className:"col-12 col-lg-8",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"d-flex align-items-center gap-2",children:[(0,a.jsx)(p,{className:"h-5 w-5"}),"Pr\xf3ximas Revis\xf5es"]})}),(0,a.jsx)(i.Wu,{children:(null==t?void 0:t.upcomingReviews)&&t.upcomingReviews.length>0?(0,a.jsxs)("div",{className:"d-flex flex-column gap-3",children:[t.upcomingReviews.slice(0,5).map(e=>(0,a.jsxs)("div",{className:"d-flex align-items-center justify-content-between p-3 bg-light rounded",children:[(0,a.jsxs)("div",{className:"flex-grow-1",children:[(0,a.jsx)("p",{className:"fw-medium small",children:e.topic}),(0,a.jsx)("p",{className:"text-muted",style:{fontSize:"0.75rem"},children:e.block}),(0,a.jsx)("p",{className:"text-muted mt-1",style:{fontSize:"0.75rem"},children:e.content})]}),(0,a.jsxs)("div",{className:"text-end",children:[(0,a.jsx)(n.E,{variant:"outline",className:"small",children:new Date(e.dueAt).toLocaleDateString("pt-BR")}),(0,a.jsxs)("p",{className:"text-muted mt-1",style:{fontSize:"0.75rem"},children:["Facilidade: ",e.ease.toFixed(1)]})]})]},e.id)),t.upcomingReviews.length>5&&(0,a.jsxs)("p",{className:"text-center small text-muted",children:["+",t.upcomingReviews.length-5," mais itens"]})]}):(0,a.jsxs)("div",{className:"text-center py-5 text-muted",children:[(0,a.jsx)(x.A,{className:"h-12 w-12 mx-auto mb-4 text-success"}),(0,a.jsx)("p",{children:"Nenhuma revis\xe3o pendente!"}),(0,a.jsx)("p",{className:"small",children:"Voc\xea est\xe1 em dia com seus estudos."})]})})]})}),(0,a.jsx)("div",{className:"col-12 col-lg-4",children:(0,a.jsxs)(i.Zp,{children:[(0,a.jsx)(i.aR,{children:(0,a.jsxs)(i.ZB,{className:"d-flex align-items-center gap-2",children:[(0,a.jsx)(f,{className:"h-5 w-5"}),"Performance"]})}),(0,a.jsxs)(i.Wu,{className:"d-flex flex-column gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"d-flex justify-content-between small mb-2",children:[(0,a.jsx)("span",{children:"Taxa de Acerto"}),(0,a.jsxs)("span",{className:"fw-medium",children:[(null==t?void 0:t.overview.successRate)||0,"%"]})]}),(0,a.jsx)(m,{value:(null==t?void 0:t.overview.successRate)||0,className:"h-2"})]}),(0,a.jsxs)("div",{className:"row g-4 text-center",children:[(0,a.jsxs)("div",{className:"col-6",children:[(0,a.jsx)("p",{className:"h4 fw-bold text-primary",children:(null==t?void 0:t.studyActivity.totalSessions)||0}),(0,a.jsx)("p",{className:"text-muted",style:{fontSize:"0.75rem"},children:"Sess\xf5es (30d)"})]}),(0,a.jsxs)("div",{className:"col-6",children:[(0,a.jsxs)("p",{className:"h4 fw-bold text-success",children:[(null==t?void 0:t.studyActivity.averageSessionLength)||0,"min"]}),(0,a.jsx)("p",{className:"text-muted",style:{fontSize:"0.75rem"},children:"M\xe9dia/Sess\xe3o"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"small fw-medium mb-2",children:"Reviews Realizadas"}),(0,a.jsx)("p",{className:"h4 fw-bold",style:{color:"#6f42c1"},children:(null==t?void 0:t.reviews.total)||0}),(0,a.jsx)("p",{className:"text-muted",style:{fontSize:"0.75rem"},children:"\xfaltimos 30 dias"})]})]})]})})]}),(0,a.jsxs)("div",{className:"row g-4",children:[(0,a.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,a.jsx)(c.$,{onClick:()=>e.push("/blocos"),className:"w-100 text-start justify-content-start",style:{height:"4rem"},variant:"outline",children:(0,a.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,a.jsx)(y.A,{className:"h-6 w-6 text-primary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"fw-medium mb-0",children:"Gerenciar Blocos"}),(0,a.jsx)("p",{className:"text-muted mb-0",style:{fontSize:"0.75rem"},children:"Criar e organizar"})]})]})})}),(0,a.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,a.jsx)(c.$,{onClick:()=>e.push("/estudo"),className:"w-100 text-start justify-content-start",style:{height:"4rem"},variant:"outline",children:(0,a.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,a.jsx)(N.A,{className:"h-6 w-6 text-success"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"fw-medium mb-0",children:"Estudar"}),(0,a.jsx)("p",{className:"text-muted mb-0",style:{fontSize:"0.75rem"},children:"Iniciar Pomodoro"})]})]})})}),(0,a.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,a.jsx)(c.$,{onClick:()=>e.push("/revisao"),className:"w-100 text-start justify-content-start",style:{height:"4rem"},variant:"outline",disabled:!(null==t?void 0:t.overview.itemsDueToday),children:(0,a.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,a.jsx)(j,{className:"h-6 w-6 text-warning"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"fw-medium mb-0",children:"Revisar"}),(0,a.jsxs)("p",{className:"text-muted mb-0",style:{fontSize:"0.75rem"},children:[(null==t?void 0:t.overview.itemsDueToday)||0," itens hoje"]})]})]})})}),(0,a.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,a.jsx)(c.$,{onClick:()=>e.push("/itens"),className:"w-100 text-start justify-content-start",style:{height:"4rem"},variant:"outline",children:(0,a.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,a.jsx)(g.A,{className:"h-6 w-6",style:{color:"#6f42c1"}}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"fw-medium mb-0",children:"Itens de Estudo"}),(0,a.jsx)("p",{className:"text-muted mb-0",style:{fontSize:"0.75rem"},children:"Resumos, quest\xf5es, leis"})]})]})})}),(0,a.jsx)("div",{className:"col-12 col-md-6 col-lg-3",children:(0,a.jsx)(c.$,{onClick:R,className:"w-100 text-start justify-content-start",style:{height:"4rem"},variant:"outline",children:(0,a.jsxs)("div",{className:"d-flex align-items-center gap-3",children:[(0,a.jsx)(w.A,{className:"h-6 w-6 text-secondary"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"fw-medium mb-0",children:"Atualizar"}),(0,a.jsx)("p",{className:"text-muted mb-0",style:{fontSize:"0.75rem"},children:"Recarregar dados"})]})]})})})]})]})})}function k(){return(0,a.jsx)(l.Suspense,{fallback:(0,a.jsx)("div",{children:"Carregando..."}),children:(0,a.jsx)(b,{})})}}},e=>{e.O(0,[441,255,358],()=>e(e.s=1260)),_N_E=e.O()}]);