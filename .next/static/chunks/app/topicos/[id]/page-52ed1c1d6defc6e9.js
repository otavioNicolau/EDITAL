(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[942],{63:(e,s,a)=>{"use strict";var t=a(7260);a.o(t,"useParams")&&a.d(s,{useParams:function(){return t.useParams}}),a.o(t,"useRouter")&&a.d(s,{useRouter:function(){return t.useRouter}}),a.o(t,"useSearchParams")&&a.d(s,{useSearchParams:function(){return t.useSearchParams}})},890:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]])},1010:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("square-pen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},1360:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]])},1847:(e,s,a)=>{"use strict";a.d(s,{A:()=>i});var t=a(2115);let r=e=>{let s=e.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,a)=>a?a.toUpperCase():s.toLowerCase());return s.charAt(0).toUpperCase()+s.slice(1)},l=function(){for(var e=arguments.length,s=Array(e),a=0;a<e;a++)s[a]=arguments[a];return s.filter((e,s,a)=>!!e&&""!==e.trim()&&a.indexOf(e)===s).join(" ").trim()};var c={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let d=(0,t.forwardRef)((e,s)=>{let{color:a="currentColor",size:r=24,strokeWidth:d=2,absoluteStrokeWidth:i,className:n="",children:o,iconNode:m,...h}=e;return(0,t.createElement)("svg",{ref:s,...c,width:r,height:r,stroke:a,strokeWidth:i?24*Number(d)/Number(r):d,className:l("lucide",n),...!o&&!(e=>{for(let s in e)if(s.startsWith("aria-")||"role"===s||"title"===s)return!0})(h)&&{"aria-hidden":"true"},...h},[...m.map(e=>{let[s,a]=e;return(0,t.createElement)(s,a)}),...Array.isArray(o)?o:[o]])}),i=(e,s)=>{let a=(0,t.forwardRef)((a,c)=>{let{className:i,...n}=a;return(0,t.createElement)(d,{ref:c,iconNode:s,className:l("lucide-".concat(r(e).replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase()),"lucide-".concat(e),i),...n})});return a.displayName=r(e),a}},2168:(e,s,a)=>{"use strict";a.d(s,{E3:()=>x,Gu:()=>v,Y_:()=>N,Zt:()=>n,bu:()=>i,dA:()=>g,gg:()=>h,lL:()=>m,ps:()=>j,qY:()=>p,rn:()=>b});var t=a(7937),r=a(9715),l=a(5843),c=a(890);let d={SUMMARY:t.A,QUESTION:r.A,LAW:l.A,VIDEO:c.A,OTHER:r.A},i={SUMMARY:"Resumo",QUESTION:"Quest\xe3o",LAW:"Lei",VIDEO:"V\xeddeo",OTHER:"Outro"},n={PENDING:"Pendente",COMPLETED:"Conclu\xeddo",REVIEWING:"Revisando",TO_STUDY:"Para Estudar"},o={PENDING:"bg-yellow-100 text-yellow-800",COMPLETED:"bg-green-100 text-green-800",REVIEWING:"bg-blue-100 text-blue-800",TO_STUDY:"bg-gray-100 text-gray-800"},m={PLANNED:"Planejado",STUDYING:"Estudando",COMPLETED:"Conclu\xeddo"},h={0:"Blackout completo",1:"Resposta incorreta, mas lembrei ao ver a resposta",2:"Resposta incorreta, mas foi f\xe1cil lembrar",3:"Resposta correta, mas com dificuldade",4:"Resposta correta, ap\xf3s hesita\xe7\xe3o",5:"Resposta correta, f\xe1cil"},u={0:"bg-red-500",1:"bg-red-400",2:"bg-orange-400",3:"bg-yellow-400",4:"bg-blue-400",5:"bg-green-500"},x=e=>d[e],b=e=>i[e],j=e=>n[e]||e,p=e=>o[e]||"bg-gray-100 text-gray-800",N=e=>m[e]||e,v=e=>h[e]||"Grade ".concat(e),g=e=>u[e]||"bg-gray-500"},5626:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5843:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]])},5921:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("play",[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]])},6082:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>h});var t=a(5155),r=a(2115),l=a(63),c=a(5626),d=a(5921),i=a(6191),n=a(1010),o=a(1360),m=a(2168);function h(){let e=(0,l.useParams)(),s=(0,l.useRouter)(),[a,h]=(0,r.useState)(null),[u,x]=(0,r.useState)(!0),[b,j]=(0,r.useState)(null),[p,N]=(0,r.useState)("ALL"),[v,g]=(0,r.useState)("ALL"),[y,f]=(0,r.useState)(!1),[w,k]=(0,r.useState)({title:"",content:"",kind:"SUMMARY",url:""});(0,r.useEffect)(()=>{E()},[e.id]);let E=async()=>{try{x(!0);let s=await fetch("/api/topics?id=".concat(e.id));if(!s.ok)throw Error("Erro ao carregar t\xf3pico");let a=(await s.json()).find(s=>s.id===e.id);if(!a)throw Error("T\xf3pico n\xe3o encontrado");let t=await fetch("/api/study-items?topicId=".concat(e.id));t.ok&&(a.studyItems=await t.json()),h(a)}catch(e){j(e instanceof Error?e.message:"Erro desconhecido")}finally{x(!1)}},A=async s=>{s.preventDefault();try{if(!(await fetch("/api/study-items",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...w,topicId:e.id})})).ok)throw Error("Erro ao criar item");k({title:"",content:"",kind:"SUMMARY",url:""}),f(!1),E()}catch(e){alert(e instanceof Error?e.message:"Erro ao criar item")}},M=async e=>{if(confirm("Tem certeza que deseja deletar este item?"))try{if(!(await fetch("/api/study-items?id=".concat(e),{method:"DELETE"})).ok)throw Error("Erro ao deletar item");E()}catch(e){alert(e instanceof Error?e.message:"Erro ao deletar item")}},C=(null==a?void 0:a.studyItems.filter(e=>{let s="ALL"===p||e.kind===p,a="ALL"===v||e.status===v;return s&&a}))||[];return u?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:"Carregando t\xf3pico..."})]})}):b||!a?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-red-600 mb-4",children:b||"T\xf3pico n\xe3o encontrado"}),(0,t.jsx)("button",{onClick:()=>s.back(),className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700",children:"Voltar"})]})}):(0,t.jsxs)("div",{className:"min-vh-100 bg-light",children:[(0,t.jsx)("div",{className:"bg-white shadow-sm border-bottom",children:(0,t.jsx)("div",{className:"container-fluid",children:(0,t.jsxs)("div",{className:"row align-items-center py-3",children:[(0,t.jsx)("div",{className:"col-12 col-lg-8",children:(0,t.jsxs)("div",{className:"d-flex align-items-center",children:[(0,t.jsx)("button",{onClick:()=>s.back(),className:"btn btn-outline-secondary me-3 d-flex align-items-center justify-content-center",style:{width:"40px",height:"40px"},children:(0,t.jsx)(c.A,{className:"h-5 w-5"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"h4 fw-semibold text-dark mb-1",children:a.name}),(0,t.jsx)("p",{className:"text-muted small mb-0",children:a.block.name})]})]})}),(0,t.jsx)("div",{className:"col-12 col-lg-4 mt-3 mt-lg-0",children:(0,t.jsxs)("div",{className:"d-flex flex-column flex-lg-row gap-2 justify-content-lg-end",children:[(0,t.jsxs)("button",{onClick:()=>{s.push("/estudo?topicId=".concat(e.id))},className:"btn btn-primary d-flex align-items-center justify-content-center gap-2",children:[(0,t.jsx)(d.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Estudar"})]}),(0,t.jsx)("button",{onClick:()=>{s.push("/revisao?topicId=".concat(e.id))},className:"btn btn-success",children:"Revisar"})]})})]})})}),(0,t.jsxs)("div",{className:"container-fluid px-3 px-md-4 py-4",children:[(0,t.jsxs)("div",{className:"row g-3 g-md-4 mb-4",children:[(0,t.jsx)("div",{className:"col-6 col-lg-3",children:(0,t.jsx)("div",{className:"card h-100 border-0 shadow-sm",children:(0,t.jsxs)("div",{className:"card-body text-center",children:[(0,t.jsx)("div",{className:"h2 fw-bold text-primary mb-1",children:a._count.items}),(0,t.jsx)("div",{className:"small text-muted",children:"Itens de Estudo"})]})})}),(0,t.jsx)("div",{className:"col-6 col-lg-3",children:(0,t.jsx)("div",{className:"card h-100 border-0 shadow-sm",children:(0,t.jsxs)("div",{className:"card-body text-center",children:[(0,t.jsx)("div",{className:"h2 fw-bold text-success mb-1",children:a._count.sessions}),(0,t.jsx)("div",{className:"small text-muted",children:"Sess\xf5es"})]})})}),(0,t.jsx)("div",{className:"col-6 col-lg-3",children:(0,t.jsx)("div",{className:"card h-100 border-0 shadow-sm",children:(0,t.jsxs)("div",{className:"card-body text-center",children:[(0,t.jsx)("div",{className:"h2 fw-bold",style:{color:"#6f42c1"},children:a._count.reviews}),(0,t.jsx)("div",{className:"small text-muted",children:"Revis\xf5es"})]})})}),(0,t.jsx)("div",{className:"col-6 col-lg-3",children:(0,t.jsx)("div",{className:"card h-100 border-0 shadow-sm",children:(0,t.jsxs)("div",{className:"card-body text-center",children:[(0,t.jsx)("div",{className:"h2 fw-bold mb-1 ".concat("COMPLETED"===a.status?"text-success":"IN_PROGRESS"===a.status?"text-warning":"text-muted"),children:"COMPLETED"===a.status?"100%":"IN_PROGRESS"===a.status?"50%":"0%"}),(0,t.jsx)("div",{className:"small text-muted",children:"Progresso"})]})})})]}),(0,t.jsx)("div",{className:"card border-0 shadow-sm mb-4",children:(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("div",{className:"row align-items-center g-3",children:[(0,t.jsx)("div",{className:"col-12 col-md-8",children:(0,t.jsxs)("div",{className:"row g-3",children:[(0,t.jsx)("div",{className:"col-12 col-sm-6",children:(0,t.jsxs)("select",{value:p,onChange:e=>N(e.target.value),className:"form-select",children:[(0,t.jsx)("option",{value:"ALL",children:"Todos os tipos"}),Object.entries(m.bu).map(e=>{let[s,a]=e;return(0,t.jsx)("option",{value:s,children:a},s)})]})}),(0,t.jsx)("div",{className:"col-12 col-sm-6",children:(0,t.jsxs)("select",{value:v,onChange:e=>g(e.target.value),className:"form-select",children:[(0,t.jsx)("option",{value:"ALL",children:"Todos os status"}),Object.entries(m.Zt).map(e=>{let[s,a]=e;return(0,t.jsx)("option",{value:s,children:a},s)})]})})]})}),(0,t.jsx)("div",{className:"col-12 col-md-4",children:(0,t.jsx)("div",{className:"d-grid d-md-flex justify-content-md-end",children:(0,t.jsxs)("button",{onClick:()=>f(!0),className:"btn btn-primary d-flex align-items-center justify-content-center gap-2",children:[(0,t.jsx)(i.A,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:"Adicionar Item"})]})})})]})})}),y&&(0,t.jsxs)("div",{className:"card border-0 shadow-sm mb-4",children:[(0,t.jsx)("div",{className:"card-header bg-primary text-white",children:(0,t.jsx)("h5",{className:"card-title mb-0",children:"Adicionar Item de Estudo"})}),(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("form",{onSubmit:A,children:[(0,t.jsxs)("div",{className:"row g-3 mb-3",children:[(0,t.jsxs)("div",{className:"col-12 col-md-6",children:[(0,t.jsx)("label",{className:"form-label fw-medium",children:"T\xedtulo"}),(0,t.jsx)("input",{type:"text",value:w.title,onChange:e=>k({...w,title:e.target.value}),className:"form-control",required:!0,placeholder:"Digite o t\xedtulo do item"})]}),(0,t.jsxs)("div",{className:"col-12 col-md-6",children:[(0,t.jsx)("label",{className:"form-label fw-medium",children:"Tipo"}),(0,t.jsx)("select",{value:w.kind,onChange:e=>k({...w,kind:e.target.value}),className:"form-select",children:Object.entries(m.bu).map(e=>{let[s,a]=e;return(0,t.jsx)("option",{value:s,children:a},s)})})]})]}),(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-medium",children:"Conte\xfado"}),(0,t.jsx)("textarea",{value:w.content,onChange:e=>k({...w,content:e.target.value}),rows:4,className:"form-control",required:!0,placeholder:"Descreva o conte\xfado do item de estudo"})]}),"VIDEO"===w.kind&&(0,t.jsxs)("div",{className:"mb-3",children:[(0,t.jsx)("label",{className:"form-label fw-medium",children:"URL do V\xeddeo"}),(0,t.jsx)("input",{type:"url",value:w.url,onChange:e=>k({...w,url:e.target.value}),className:"form-control",placeholder:"https://exemplo.com/video"})]}),(0,t.jsxs)("div",{className:"d-flex gap-2 flex-column flex-sm-row",children:[(0,t.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Adicionar"}),(0,t.jsx)("button",{type:"button",onClick:()=>f(!1),className:"btn btn-secondary",children:"Cancelar"})]})]})})]}),(0,t.jsx)("div",{className:"row g-3",children:0===C.length?(0,t.jsx)("div",{className:"col-12",children:(0,t.jsx)("div",{className:"card border-0 shadow-sm text-center",children:(0,t.jsxs)("div",{className:"card-body py-5",children:[(0,t.jsx)("p",{className:"text-muted mb-3",children:"Nenhum item de estudo encontrado."}),(0,t.jsx)("button",{onClick:()=>f(!0),className:"btn btn-primary",children:"Adicionar Primeiro Item"})]})})}):C.map(e=>{let s=(0,m.E3)(e.kind);return(0,t.jsx)("div",{className:"col-12",children:(0,t.jsx)("div",{className:"card border-0 shadow-sm h-100",children:(0,t.jsx)("div",{className:"card-body",children:(0,t.jsxs)("div",{className:"row align-items-start",children:[(0,t.jsx)("div",{className:"col-auto",children:(0,t.jsx)("div",{className:"p-2 bg-primary bg-opacity-10 rounded",children:(0,t.jsx)(s,{className:"h-5 w-5 text-primary"})})}),(0,t.jsxs)("div",{className:"col",children:[(0,t.jsxs)("div",{className:"d-flex flex-wrap align-items-center gap-2 mb-2",children:[(0,t.jsx)("h5",{className:"card-title mb-0",children:e.title}),(0,t.jsx)("span",{className:"badge ".concat((0,m.qY)(e.status).replace("bg-","bg-").replace("text-","text-")),children:(0,m.ps)(e.status)}),(0,t.jsx)("span",{className:"badge bg-light text-dark",children:(0,m.rn)(e.kind)})]}),(0,t.jsx)("p",{className:"card-text text-muted mb-3",children:e.content}),e.url&&(0,t.jsx)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",className:"btn btn-outline-primary btn-sm",children:"Ver recurso â†’"})]}),(0,t.jsx)("div",{className:"col-auto",children:(0,t.jsxs)("div",{className:"btn-group",role:"group",children:[(0,t.jsx)("button",{className:"btn btn-outline-secondary btn-sm",title:"Editar",children:(0,t.jsx)(n.A,{className:"h-4 w-4"})}),(0,t.jsx)("button",{onClick:()=>M(e.id),className:"btn btn-outline-danger btn-sm",title:"Excluir",children:(0,t.jsx)(o.A,{className:"h-4 w-4"})})]})})]})})})},e.id)})})]})]})}},6191:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},6958:(e,s,a)=>{Promise.resolve().then(a.bind(a,6082))},7937:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("book-open",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]])},9715:(e,s,a)=>{"use strict";a.d(s,{A:()=>t});let t=(0,a(1847).A)("file-text",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]])}},e=>{e.O(0,[441,255,358],()=>e(e.s=6958)),_N_E=e.O()}]);